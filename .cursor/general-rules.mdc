---
alwaysApply: true
scope:
    filePatterns: [ "*.php", "app/**/*.php" ]  # 仅对Laravel项目的PHP文件生效
    aiScenarios: [ "generate", "refactor", "debug" ]  # AI生成/重构/调试时都遵守
    version: "1.0.0"  # 规则版本(便于迭代)
---

# 【通用】规则约束

## 1. 数组格式规范

**所有数组定义都必须使用 `=>` 对齐的格式。**

### 1.1 对齐规则

- 数组键值对中的 `=>` 必须对齐在同一列
- 使用空格进行对齐，保持代码整洁美观
- 适用于所有数组定义（包括关联数组、多维数组等）

### 1.2 正确示例

```php
// 正确：使用 => 对齐格式
$list[] = [
    'label' => $case->value,
    'value' => $case->value,
];

$config = [
    'database' => [
        'host'     => 'localhost',
        'port'     => 3306,
        'username' => 'root',
        'password' => 'password',
    ],
    'cache'    => [
        'driver' => 'redis',
        'host'   => '127.0.0.1',
    ],
];

// 错误：=> 未对齐（键名长度不同时未对齐）
$config = [
    'database' => 'mysql',
    'host' => 'localhost',      // => 未对齐
    'username' => 'root',       // => 未对齐
];

// 错误：=> 未对齐（更明显的例子）
$data = [
    'id' => 1,
    'name' => 'test',           // => 未对齐
    'description' => 'desc',    // => 未对齐
];
```

## 2. 类方法注释规范

**所有类方法注释的尾部都必须包含作者信息。**

### 2.1 作者信息格式

- 必须使用 `@author` 标签
- 格式：`@author 作者名<邮箱>`
- 位置：放在注释块的最后一行（在 `@return`、`@throws` 等标签之后）

### 2.2 正确示例

```php
/**
 * 常规日志列表（分页）
 * @param Request $request
 * @return JsonResponse
 * @throws Exception
 * @author siushin<siushin@163.com>
 */
public function index(Request $request): JsonResponse
{
    // 方法实现
}

/**
 * 更新用户信息
 * @param Request $request
 * @param int $userId
 * @return JsonResponse
 * @author siushin<siushin@163.com>
 */
public function update(Request $request, int $userId): JsonResponse
{
    // 方法实现
}
```

### 2.3 错误示例

```php
// 错误：缺少 @author 标签
/**
 * 常规日志列表（分页）
 * @param Request $request
 * @return JsonResponse
 * @throws Exception
 */
public function index(Request $request): JsonResponse
{
    // 方法实现
}
```
